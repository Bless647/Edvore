<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Subjects</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: #121212;
      color: white;
    }

    .menu-container {
      text-align: center;
      padding: 40px;
      margin-top: 40px;
      background: rgba(0, 0, 0, 0.7);
      border-radius: 10px;
      width: 80%;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }

    h1 {
      font-size: 2em;
      margin-bottom: 20px;
    }

    .subject-btn {
      display: block;
      width: 100%;
      margin: 10px 0;
      padding: 14px;
      background: linear-gradient(145deg, #56ccf2, #2f80ed);
      color: white;
      font-size: 1.2em;
      font-weight: bold;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: transform 0.2s;
    }

    .subject-btn:hover {
      transform: scale(1.05);
    }

    /* Floating buttons */
    .floating-btn {
      position: fixed;
      bottom: 20px;
      padding: 12px 20px;
      border-radius: 50px;
      font-weight: bold;
      cursor: pointer;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
      transition: transform 0.2s;
      background: linear-gradient(145deg, #56ccf2, #2f80ed);
      color: white;
      text-decoration: none;
      border: none;
    }

    .floating-btn:hover {
      transform: scale(1.1);
    }

    #records-btn {
      left: 20px;
    }

    #feedback-button {
      right: 20px;
    }

    /* Feedback modal */
    #feedback-modal {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.7);
      justify-content: center;
      align-items: center;
      z-index: 1001;
    }

    #feedback-content {
      background: #1a1a1a;
      padding: 30px;
      border-radius: 12px;
      width: 90%;
      max-width: 400px;
      color: white;
      text-align: center;
    }

    #feedback-text {
      width: 100%;
      height: 100px;
      margin: 15px 0;
      padding: 10px;
      border-radius: 8px;
      border: none;
      resize: none;
    }

    #send-feedback, #close-feedback {
      padding: 10px 20px;
      margin: 5px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: bold;
    }

    #send-feedback {
      background: #2f80ed;
      color: white;
    }

    #send-feedback:hover { background: #56ccf2; }
    #close-feedback { background: #555; color: white; }
    #close-feedback:hover { background: #777; }
  </style>
</head>
<body>

<div class="menu-container">
  <h1>Choose a Subject</h1>
  <button class="subject-btn" onclick="location.href='English.html'">English</button>
  <button class="subject-btn" onclick="location.href='Geography.html'">Geography</button>
  <button class="subject-btn" onclick="location.href='Maths.html'">Maths</button>
  <button class="subject-btn" onclick="location.href='Natural Science.html'">Natural Science</button>
  <button class="subject-btn" onclick="location.href='History.html'">History</button>
</div>

<!-- Floating buttons -->
<a id="records-btn" class="floating-btn" href="User.html">ðŸ“– My Records</a>
<button id="feedback-button" class="floating-btn">ðŸ’¬ Send Feedback</button>

<!-- Feedback Modal -->
<div id="feedback-modal">
  <div id="feedback-content">
    <h3>Send Feedback</h3>
    <textarea id="feedback-text" placeholder="Type your feedback here..."></textarea>
    <button id="send-feedback">Send</button>
    <button id="close-feedback">Cancel</button>
  </div>
</div>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
<script>
  const firebaseConfig = {
    apiKey: "AIzaSyCgdTnXYep_-C6IqaGp1DUuB5gBTBGhx_0",
    authDomain: "edvore-b11b7.firebaseapp.com",
    databaseURL: "https://edvore-b11b7-default-rtdb.firebaseio.com/",
    projectId: "edvore-b11b7",
    storageBucket: "edvore-b11b7.appspot.com",
    messagingSenderId: "239809584061",
    appId: "1:239809584061:web:a20da5cfa66a347c0fd0d4"
  };
  firebase.initializeApp(firebaseConfig);
  const database = firebase.database();

  // Feedback button logic
  const feedbackButton = document.getElementById('feedback-button');
  const feedbackModal = document.getElementById('feedback-modal');
  const closeFeedback = document.getElementById('close-feedback');
  const sendFeedback = document.getElementById('send-feedback');
  const feedbackText = document.getElementById('feedback-text');

  feedbackButton.addEventListener('click', () => {
    feedbackModal.style.display = 'flex';
  });
  closeFeedback.addEventListener('click', () => {
    feedbackModal.style.display = 'none';
    feedbackText.value = '';
  });
  sendFeedback.addEventListener('click', () => {
    const text = feedbackText.value.trim();
    if (text !== "") {
      const feedbackRef = database.ref('feedbacks');
      feedbackRef.push({
        message: text,
        timestamp: Date.now()
      }).then(() => {
        alert("Feedback sent! Thank you.");
        feedbackModal.style.display = 'none';
        feedbackText.value = '';
      }).catch(err => {
        alert("Error sending feedback: " + err);
      });
    } else {
      alert("Please enter feedback before sending.");
    }
  });
</script>
</body>
  </html>
