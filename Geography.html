<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<title>Geography Quiz</title>
<style>
    * { margin:0; padding:0; box-sizing:border-box; }
    body { font-family: Arial, sans-serif; background-color:#121212; color:#E0E0E0; padding:20px; display:flex; justify-content:center; align-items:center; height:100vh; }
    .menu-container { background-color:black; padding:30px; border-radius:8px; box-shadow:0 4px 8px rgba(0,0,0,0.3); text-align:center; width:100%; max-width:700px; }
    h1 { font-size:2.5em; color:#fff; }
    h3 { font-size:1.4em; color:#dcdcdc; margin-bottom:20px; }
    .no-bullets { list-style:none; padding:0; margin:20px 0; }
    .no-bullets li { margin:10px 0; font-size:1.2em; padding:10px; background-color:#333; border-radius:5px; cursor:pointer; transition:0.3s; }
    .no-bullets li:hover { background-color:#555; }
    .feedback { position:fixed; top:10%; left:50%; transform:translate(-50%, -50%); color:white; padding:15px; border-radius:5px; font-size:1.2em; z-index:100; }
    .progress { font-size:1.2em; margin-top:10px; color:#e0e0e0; }
    .submit-btn { margin-top:20px; padding:10px 20px; background-color:#28a745; color:white; border:none; border-radius:5px; cursor:pointer; display:none; transition:0.3s; }
    .submit-btn:hover { background-color:#218838; transform:scale(1.05); box-shadow:0 5px 15px rgba(0,0,0,0.3);}
    .back-btn { margin-top:20px; padding:10px 20px; background-color:#007bff; color:white; border:none; border-radius:5px; cursor:pointer; text-decoration:none; display:none; transition:0.3s; }
    .back-btn:hover { background-color:#0056b3; transform:scale(1.3); }
</style>
</head>
<body>
<div class="menu-container">
    <h1>Geography Quiz</h1>
    <h3 id="question"></h3> 
    <ul class="no-bullets" id="answers-list">
        <li id="a" onclick="chooseAnswer('a')"></li>
        <li id="b" onclick="chooseAnswer('b')"></li>
        <li id="c" onclick="chooseAnswer('c')"></li>
    </ul>
    <div id="progress" class="progress"></div>
    <button id="back" class="back-btn" onclick="goBack()">Back</button>
    <button id="submit" class="submit-btn" onclick="submitQuiz()">Submit Quiz</button>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

    <script>
        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyCgdTnXYep_-C6IqaGp1DUuB5gBTBGhx_0",
            authDomain: "edvore-b11b7.firebaseapp.com",
            databaseURL: "https://edvore-b11b7-default-rtdb.firebaseio.com",
            projectId: "edvore-b11b7",
            storageBucket: "edvore-b11b7.appspot.com",
            messagingSenderId: "239809584061",
            appId: "1:239809584061:web:a20da5cfa66a347c0fd0d4"
        };
        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();

        // Quiz variables
        let index = 0;
        const quest = document.getElementById("question");
        const progress = document.getElementById("progress");
        const answersList = document.getElementById("answers-list");
        const backBtn = document.getElementById("back");
        const submitBtn = document.getElementById("submit");
        const userAnswers = [];

        // Get username from login
        const username = localStorage.getItem("username") || "Anonymous";

        // 20 Grade 8 Geography questions
        const questions = [
            { quest: "1. What is the Earth's largest continent?", a: "Africa", b: "Asia", c: "Europe", correct: "b" },
            { quest: "2. Which is the longest river in the world?", a: "Nile", b: "Amazon", c: "Yangtze", correct: "a" },
            { quest: "3. What is the capital of South Africa?", a: "Pretoria", b: "Johannesburg", c: "Cape Town", correct: "a" },
            { quest: "4. Which layer of the Earth is liquid?", a: "Mantle", b: "Outer Core", c: "Crust", correct: "b" },
            { quest: "5. What is the term for land surrounded by water on three sides?", a: "Peninsula", b: "Island", c: "Isthmus", correct: "a" },
            { quest: "6. Which ocean is the deepest?", a: "Atlantic", b: "Pacific", c: "Indian", correct: "b" },
            { quest: "7. What is the process by which rocks break down over time?", a: "Erosion", b: "Weathering", c: "Deposition", correct: "b" },
            { quest: "8. What is the capital city of Egypt?", a: "Cairo", b: "Alexandria", c: "Giza", correct: "a" },
            { quest: "9. Which continent is known as the 'Dark Continent'?", a: "Africa", b: "Asia", c: "South America", correct: "a" },
            { quest: "10. What is the equator?", a: "A line dividing North and South Hemispheres", b: "A river in Africa", c: "A mountain range", correct: "a" },
            { quest: "11. What is the tallest mountain in the world?", a: "K2", b: "Everest", c: "Kilimanjaro", correct: "b" },
            { quest: "12. Which country has the largest population?", a: "India", b: "USA", c: "China", correct: "c" },
            { quest: "13. What is the primary cause of seasons?", a: "Earth's tilt", b: "Earth's rotation", c: "Moon's orbit", correct: "a" },
            { quest: "14. Which is the smallest continent?", a: "Australia", b: "Europe", c: "Antarctica", correct: "a" },
            { quest: "15. What is the name of the imaginary line at 0Â° longitude?", a: "Prime Meridian", b: "International Date Line", c: "Equator", correct: "a" },
            { quest: "16. Which country is known as the Land of the Rising Sun?", a: "China", b: "Japan", c: "Thailand", correct: "b" },
            { quest: "17. Which river flows through London?", a: "Seine", b: "Thames", c: "Danube", correct: "b" },
            { quest: "18. What is the term for a group of islands?", a: "Archipelago", b: "Isthmus", c: "Peninsula", correct: "a" },
            { quest: "19. What is the Sahara?", a: "Forest", b: "Desert", c: "Mountain", correct: "b" },
            { quest: "20. Which continent has the most countries?", a: "Africa", b: "Europe", c: "Asia", correct: "a" }
        ];

        function initQuest() {
            quest.innerHTML = questions[index].quest;
            document.getElementById("a").innerHTML = "A) " + questions[index].a;
            document.getElementById("b").innerHTML = "B) " + questions[index].b;
            document.getElementById("c").innerHTML = "C) " + questions[index].c;
            progress.innerHTML = `Question ${index + 1} of ${questions.length}`;
            backBtn.style.display = "inline-block";
            answersList.style.pointerEvents = "auto";
            answersList.style.display = "block";
            submitBtn.style.display = "none";
        }

        function chooseAnswer(answer) {
            answersList.style.pointerEvents = "none";
            userAnswers[index] = answer;
            showFeedback(answer === questions[index].correct ? "Correct!" : "Incorrect!", answer === questions[index].correct);
            index++;
            if (index < questions.length) {
                setTimeout(initQuest, 300);
            } else {
                setTimeout(endQuiz, 300);
            }
        }

        function showFeedback(message, isCorrect) {
            const feedback = document.createElement("div");
            feedback.innerHTML = message;
            feedback.classList.add("feedback");
            feedback.style.backgroundColor = isCorrect ? "green" : "red";
            document.body.appendChild(feedback);
            setTimeout(() => feedback.remove(), 1000);
        }

        function endQuiz() {
            quest.innerHTML = "Quiz Completed!";
            answersList.style.display = "none";
            progress.style.display = "none";
            backBtn.style.display = "none";
            submitBtn.style.display = "inline-block";
        }

        function goBack() {
            window.location.href = "Subjects.html";
        }

        function submitQuiz() {
            const submissionRef = database.ref('Geography_Submissions/' + Date.now());
            submissionRef.set({
                username: username,
                answers: userAnswers
            })
            .then(() => {
                alert("Quiz submitted successfully!");
                window.location.href = "Subjects.html";
            })
            .catch((error) => { alert("Error submitting quiz: " + error); });
        }

        window.onload = initQuest;
    </script>
</div>
</body>
       </html>
